<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>

  <link rel="stylesheet" href="https://unpkg.com/netlify-cms@~0.5/dist/cms.css" />

</head>
<body>
  <script src="https://unpkg.com/netlify-cms@~0.5/dist/cms.js"></script>
  <script src="https://unpkg.com/prop-types@15.6.0/prop-types.min.js"></script>
<script>
const PagePreview = createClass({
  // shouldComponentUpdate: function() {
  //   console.log('should update?')
  //   return false
  // },
  render: function() {
    window.CMS_STRINGS = this.props.entry.toJS().data
    window.FORCE_UPDATE_HOOK && window.FORCE_UPDATE_HOOK()

    return h('iframe', {
      src: '../index.html',
      style: {
        height: '100%',
        width: '100%',
        border: 'none',
        background: '#fff',
      },
    })
  },
})

PagePreview.contextTypes = {
  document: PropTypes.any,
}

CMS.registerPreviewStyle('preview.css')
CMS.registerPreviewTemplate('home', PagePreview)
</script>
</body>
</html>
